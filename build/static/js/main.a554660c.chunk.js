(this.webpackJsonpsignovote=this.webpackJsonpsignovote||[]).push([[0],{23:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADsSURBVHgB7ZUxCsIwFIb/l3oIB0FHF3cRh3qLburo5BW8gidQJwUPYRGFuim4W8VdncU804rSgkEptSDkGxJeXpIvCQ9C+IJ63bEhafY2Kbmx8Cbuhy1AQVOtOiUhYOsmCaCopvY06b4Er3VrpYTreRM/F26kJAI0QDK64nFezSm5rdqhQEaEN7KYzqrz8QMsEidkSexxazWnpd6yhBQQRLv5cjx6xrl4Ek0w2UiBoNpU9xJlVgxGZERGZERG9PciltgjJZj4ohURY4i0RNdbLxpb0eBw3PrFQmWjPviyCvNIxpr41lmupm508A4CIzpg14GEOAAAAABJRU5ErkJggg=="},24:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgBtdOxDsFAGAfw7zuaGDtKNNJVQtJFIqZ6AwaJkSdjFF6AqVtTDDxCvQEbwdVd46iqNO1d/1P7H3757rscgmQ6nZGpIToUAR406Hne3Oc9gkQEGiCY/D8A8AWeG7btsf64XvcCFRF4CXLG9w8Xw2ieEbEf7dmkOkFiZ4b58c16yzGqjY27XayMWvMYx9nUFwIZInbKPi2ilZ1ue2i53nxGaTCJoNlWEb8olgqWyIhNvhaTA6KV6fIS0GhO9HbvubvlIVqmriIF5dGJpk3jZRnk0NdO6SDeozz6eW2psCyaCKtAf2BV6BesEn3DqtEQLgLlIUWgIVwEGsJFoH9hWTQRVoHyPAGbjdq6fTaQQQAAAABJRU5ErkJggg=="},45:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAZCAYAAADt7nrkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUlSURBVHgB7VmNdds4DIbvdQBtcOwEUSY4bZB0guQmSDawMkF8E9idILkJlJvA7gRyJ7A7AY6wqOQTBEhqkrbxa773+CwRvwRBEpRn9Epg5iz+XMS2n81mn+kdvx5xUorYFrHV/IRdbMvYgiODvCUdEaK/FbTlCO9c8Z/RW4OsqtjueBxzQxZR0RFBJ+wAX1DjrL3E/g7bJbScXgMpwzR2qWkUSnYFtAs6IhjJmzl8c8VX0gsgEzcU0+cqPVdK16g40XFCK8exjI4M3BwjiNzhq4FHngO9AEbMnx27D/BcKNqnWLRs25f4fC+GqSloBDk4FOJPgP4H6jsdkg353Yi+1F8Am/Tv04BysP2Q+s61vAfFL9vlF9HjsG/Ue677or5Lehqj4DPGB2yK7EnqMm1CvHDn2otspJEjU4Der7E9SKzIYMStsSYD3BRBj3s69C88WfbP3VqCY2VkstNCdoEr7m/vtbUikr1btuHJ6LPv2uCph/Q4Pra854p3wT52RszrKXpbgVIxzmkiuHu2Voq25mlYg8z1RBltK5tgr2ZjC+PuJCwVTSdcqehzHkfhxMsdU3y+4O/Qi0Gwsl6yJ9DwRKLcYmCAou8qtXpgAHcT5XT2rpTckptJ0P0LYwyYAPeKVilfAvmTXIGvGJcaZORs1Mm6SLqKxBMmxqB/Q+CmWLG2B8GS/a0McQa0WjmSDcgtnKBquU4AoF8PvCR/kntXDHaOFkPvrZKrgaZ3iELJFlNolj/cTR5d7faLpOS4d5cUhfmIs3nqPx9xdCgBEKWS8yZy8Iw3/AnP0NuRM3TmI2O8BppeyZmaA0TvOqft/qEZpBKL7VN8/BibfGrDyijEdsfdDMiVfFvtFdC9NyoxXeJ/Sw7q/rV6D/CMleUJPD9QH/sBPVpXG0zhwSCuVKVawPMWxn6AUVV6cdsoXh2DkptF9Ni03t5EghPi2GV8PKVmQluE2C7h/S90CJ5PnH7P2Q3oR3xV7ycODfV9oXFsybaPdkrVd2PwePos7B1ZPeE6NsFoiO0HbkrYx20tTt7fyCETmrYE4ckMJzDLdNBbfDP6OgkAGYmD2OssV3QrQQ5yRl+BL/oOmO6v0hdS16nyUa9GjR6N+19q0F+M21DiyVj+GaAfxiIfBALBCovGbwyHM+oaxokpyHYUg/kn9RHgGRPAXclpS0c/1speS+sf/t0t8oFsbMCvC+r6eGPw62NH4xJ52+OF1QePiGpAr0xUSSOQrVVn9RW+JKP6TrlOtKHzDCenPW9anQX5KyvAs85U81w1dHT+keDmThyga0U2Oj4jv7Ma/4PnXI1RfMXkuXd0W+isXFZ3em6q1jXrWwT3L6hyoN6l1rtbgpxbtXG/mq2Tvor7OEsybpWX6PrulY3YWxr23L+puF9JtggOv757184Ya+5OsnVHFBmMn/6wURnjEbmMlOKax1Erh0okGgOteBpyZzIKpQ8/ba0Ne6sROxKcbGAigyEz9v/k2Feomu37d23wBqAP3elbrCyHJLtKx8Au0TIlg/fNytGpg1uxkwA88m8AD3wKBB5rDAf/aQK4H7wwQebSsblkfzXnhoweb2A7OUWus1vNPCP0VDBsR6q1UfDT1/5tqoLvqPlnQiAV6ym9MmAML/b/GTb3ye5+ogwN8XO3OPpp42mNy+q6NfrnKruO6k/ot4oZ/QCkFShn2GFFxPZvIsnVogBWya6P9I63CWf/t/b5QO9424CDemcUAb3C6R0vww/ZWjV+ReHxu+F/gclQU9n1+7sAAAAASUVORK5CYII="},49:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAbCAYAAAAdx42aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF3SURBVHgBzZa/TsJQFMa/c1sxbPoAYEcHSXAj6FDewFGd5BF8AuPo6BMIi9GJvgFdNGxigoljRR6ADRXa470NJBqh1NDe8lvuv5N8X84994+Bf3JQPb3ZKew5VrHkvb33nrEiZtxA2z7amozzLTDbauwjbJtYkVgGQvGvfFt2y2rMgOf7uEQC0LKAueIB1zqdOw8JQFmKRxqoVI6tDaI2E6y0xBca0CU+14BOcYWIEpd0N3Kj/bTEFRQlbuZGNdd1hkgRylJcIf7sOaOpS1xBh9WTJ0zPeTghiw6aYFBDGWBkiClz7oLInk0Q68tAAFybwUScGya3ZjUQELkPj7d1aGLRKXBkIdZ1FOJ63ANZmvh1Fasrd8xc+1GIZfUcK2NIifV7DXWbEIsWZtshu92pU8sQlPh2iKhFZcLMbaZqYumnVGHbZ/Jv+JnK31DECXLdxjDMBMNR4zATBi6QAEbcQM/rfvQHvftiobQtLewK9q/6g5dXrMg3BNXyNH9LH9QAAAAASUVORK5CYII="},50:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB5ZHRCQAgCEQtGqBRGslRG6VNLgMhEPq4v8AHD0Q5RBQJAFBcNM6rkHwYKOcyJkBvaOYMvW4Or5f7JsMfNuuRJDjo4gr9AAAAAElFTkSuQmCC"},51:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAYCAYAAADtaU2/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGUSURBVHgBvdS/TsJAHAfw769FXd0VwgMQw2LCvxgY3WAxyCJvID6B+ATKE6gLsOkbUBMEoguJmLiJlMGxmyZoz7ZCpMLRaq9806H359fP3SU9wpKSihcOQSgzMI2NPnKEJSSVyB8DVJ7q0iT4nDmoFV9hHmr0VXw76p3k/oHOcDE7QifNVrXsC8xHUWm2aiWLh+DwUMZweduuFSdtobBbVCic2C5EpRU0DGbdCRUG81BDVZrtemZejeffiYsC3cDae45X52nHC9HVt4yiXGu8WmvHsVg+nErl0/hDzBo5wK7+g1qwebsEJHqGTo1konAOl+gKUYMRwtP9DOi7QS3YeEqTBoEVnfBF6KfOXKFj2J5FuBPa6dT7cBlJ1/UjN7hI1IysDnvdzY3ICxFl7TiioeAWBurDjWh0/P3vJON7JSL5dGYC4Qw6siJRM/LkRR0+dkLBiLEQSv+aEzOWZ78GPaI22MxA7SkcXCg6AzvjpBlo3Cs6F+bjpOkjZNp3tScIiMwb+MGlqHG8r2xEu637aheC8gUc8uzjTJOy9QAAAABJRU5ErkJggg=="},52:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgB7Y+xDQAgCAR/BEd0E9zMURzBERASCgssoDEmXkJ39wnATZi5IIvEJDeRwWKlIsqPfWGolIpNaiZROD6NpH7eRno4dkYqnmEBBbummXmJ7mAAAAAASUVORK5CYII="},54:function(n,t,e){n.exports=e(83)},60:function(n,t,e){},83:function(n,t,e){"use strict";e.r(t);var r,a=e(0),c=e.n(a),o=e(44),i=e.n(o),u=e(17),l=e(6),s=(e(59),e(60),e(5)),A=e.n(s),f=e(21),d=e(15),m=e(8),p=e(7),v=e(2),g=e(3);!function(n){n.PRIMARY="#8177F9",n.PRIMARY_FADED="#ECEBFF",n.DARK="#3C3A59",n.LIGHT="#fff",n.GRAY_1="#F9F9F9",n.GRAY_2="#EEEEEE",n.GRAY_3="#B7B5C8",n.GRAY_4="#888888"}(r||(r={}));var b=r,E=e(45),O=e.n(E);function h(){var n=Object(v.a)(["\n  padding: 1rem;\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n"]);return h=function(){return n},n}var j=g.a.div(h()),w=function(n){var t=n.children,e=n.className;return c.a.createElement(j,{className:e},t)};function x(){var n=Object(v.a)(["\n  width: 90%;\n  max-width: 600px;\n  margin-top: -4rem;\n  margin-bottom: 2rem;\n"]);return x=function(){return n},n}function k(){var n=Object(v.a)(["\n  object-fit: contain;\n\n  position: absolute;\n  left: 10px;\n  top: 10px;\n\n  width: 80px;\n\n  user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-drag: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n"]);return k=function(){return n},n}function R(){var n=Object(v.a)(["\n  width: 100%;\n  height: 10rem;\n  background-color: ",";\n"]);return R=function(){return n},n}function C(){var n=Object(v.a)(["\n  width: 100%;\n  align-items: center;\n"]);return C=function(){return n},n}var B=g.a.div(C()),I=g.a.div(R(),b.PRIMARY),S=g.a.img.attrs({src:O.a})(k()),Y=Object(g.a)(w)(x()),Q=function(n){var t=n.children;return c.a.createElement(B,null,c.a.createElement(I,null),c.a.createElement(S,null),c.a.createElement(Y,null,t))},U=e(16),y=e(31);function D(){var n=Object(v.a)(["\n  object-fit: contain;\n  width: ","px;\n  height: ","px;\n\n  user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-drag: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n"]);return D=function(){return n},n}function G(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  border: none;\n  outline: none;\n\n  width: min-content;\n  height: min-content;\n\n  padding: 0.7rem;\n  border-radius: 4px;\n\n  background-color: ",";\n  color: ",";\n\n  transition: background-color, 0.3s;\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  &:active {\n    background-color: ",";\n    transition: background-color, 0s;\n    cursor: pointer;\n  }\n"]);return G=function(){return n},n}var F=g.a.button(G(),(function(n){return n.flat?"transparent":b.PRIMARY}),b.LIGHT,Object(y.a)(.05,b.PRIMARY),Object(y.a)(.09,b.PRIMARY)),V=g.a.img(D(),(function(n){return n.size}),(function(n){return n.size})),M=function(n){var t=n.children,e=n.withImage,r=n.imageSize,a=n.flat,o=Object(U.a)(n,["children","withImage","imageSize","flat"]);return c.a.createElement(F,Object.assign({flat:a},o),e&&c.a.createElement(V,{src:e,size:r||20}),t)};function J(){var n=Object(v.a)(["\n  background-color: transparent;\n\n  width: 40px;\n  height: 40px;\n  border-radius: 15px;\n\n  transition: background-color, 0.2s;\n\n  margin-left: -8px;\n  margin-bottom: -5px;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n\n  &:active {\n    background-color: rgba(0, 0, 0, 0.35);\n  }\n"]);return J=function(){return n},n}var P=Object(g.a)(M).attrs({imageSize:14})(J());function N(n){return n%2===0}var X=e(23),K=e.n(X),z=e(24),T=e.n(z),H=e(25),L=e(26),q=e(13),W=e.n(q),Z="http://localhost/signovote/api";function _(n){throw n.response?{error:n.response.data?n.response.data:n.response.status}:{error:n}}function $(n){var t=n.getDate(),e=n.getMonth()+1,r=n.getFullYear();return"".concat(r,"-").concat(e,"-").concat(t)}var nn=function(){function n(){Object(H.a)(this,n)}return Object(L.a)(n,null,[{key:"get",value:function(){var n=Object(m.a)(A.a.mark((function n(t){var e;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.get("".concat(Z,"/v1/polls/"),{params:Object(d.a)({},t&&{pollId:t})});case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),_(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},{key:"getAll",value:function(){var n=Object(m.a)(A.a.mark((function n(){var t;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.get("".concat(Z,"/v1/polls/"));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),_(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()},{key:"create",value:function(){var n=Object(m.a)(A.a.mark((function n(t){var e,r,a,c,o;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.title,r=t.dateStart,a=t.dateEnd,c=t.options,n.prev=1,n.next=4,W.a.post("".concat(Z,"/v1/polls/"),{title:e,date_start:$(r),date_end:$(a),options:c});case 4:return o=n.sent,n.abrupt("return",o.data);case 8:n.prev=8,n.t0=n.catch(1),_(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}()},{key:"edit",value:function(){var n=Object(m.a)(A.a.mark((function n(t,e){var r,a,c,o;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.title,a=e.dateStart,c=e.dateEnd,o=e.options,n.prev=1,n.next=4,W.a.put("".concat(Z,"/v1/polls/"),{poll_id:t,title:r,date_start:$(a),date_end:$(c),options:o});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),_(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(t,e){return n.apply(this,arguments)}}()},{key:"delete",value:function(){var n=Object(m.a)(A.a.mark((function n(t){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W()({method:"DELETE",data:{poll_id:parseInt(t)},url:"".concat(Z,"/v1/polls/")});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),_(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(t){return n.apply(this,arguments)}}()}]),n}();function tn(n){var t=n.split("-");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))}function en(n){var t="string"===typeof n?tn(n):n,e=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getFullYear()).padStart(4,"0");return"".concat(e,"/").concat(r,"/").concat(a)}function rn(){var n=Object(v.a)(["\n  font-size: 0.7rem;\n"]);return rn=function(){return n},n}function an(){var n=Object(v.a)([""]);return an=function(){return n},n}function cn(){var n=Object(v.a)([""]);return cn=function(){return n},n}function on(){var n=Object(v.a)([""]);return on=function(){return n},n}function un(){var n=Object(v.a)([""]);return un=function(){return n},n}function ln(){var n=Object(v.a)(["\n  margin-right: auto;\n"]);return ln=function(){return n},n}function sn(){var n=Object(v.a)(["\n  padding: 0.3rem;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  background-color: ",";\n"]);return sn=function(){return n},n}function An(){var n=Object(v.a)(["\n  margin-top: 0.6rem;\n  width: 100%;\n  padding: 0.6rem 3rem;\n\n  @media (min-width: 500px) {\n    flex-direction: row;\n    width: min-content;\n    margin-top: 0;\n  }\n"]);return An=function(){return n},n}function fn(){var n=Object(v.a)(["\n  margin-right: auto;\n"]);return fn=function(){return n},n}function dn(){var n=Object(v.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  padding: 0.3rem;\n  align-items: center;\n\n  @media (min-width: 500px) {\n    flex-direction: row;\n  }\n"]);return dn=function(){return n},n}function mn(){var n=Object(v.a)(["\n  font-size: 1.15rem;\n"]);return mn=function(){return n},n}var pn=g.a.h1(mn()),vn=g.a.div(dn(),b.PRIMARY_FADED),gn=g.a.span(fn()),bn=Object(g.a)(M)(An()),En=g.a.div(sn(),(function(n){return n.strip?b.GRAY_1:"transparent"})),On=g.a.span(ln()),hn=Object(g.a)(P).attrs({withImage:T.a})(un()),jn=Object(g.a)(P).attrs({withImage:K.a})(on()),wn=Object(g.a)(M)(cn()),xn=g.a.div(an()),kn=g.a.span(rn()),Rn=function(){var n=Object(l.f)(),t=Object(a.useState)(),e=Object(p.a)(t,2),r=e[0],o=e[1];Object(a.useEffect)((function(){nn.getAll().then((function(n){o(n)})).catch((function(n){return alert("Erro ao carregar vota\xe7\xf5es")}))}),[]);var i=function(t){n.push("/vote/".concat(t))},u=function(){var n=Object(m.a)(A.a.mark((function n(t,e){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nn.delete(t);case 3:o((function(n){return Object(d.a)({},n,Object(f.a)({},e,n[e].filter((function(n){return n.id!==t}))))})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert("Erro ao deletar");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(t,e){return n.apply(this,arguments)}}(),s=function(t){n.push("/edit/".concat(t))};return c.a.createElement(Q,null,c.a.createElement(vn,null,c.a.createElement(gn,null,"Crie sua vota\xe7\xe3o de forma simples!"),c.a.createElement(bn,{onClick:function(){n.push("/create")}},"Criar")),((null===r||void 0===r?void 0:r.going.length)||0)>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(pn,null,"Vota\xe7\xf5es Atuais"),null===r||void 0===r?void 0:r.going.map((function(n,t){return c.a.createElement(En,{strip:N(t)},c.a.createElement(xn,{style:{marginRight:"auto"}},c.a.createElement(On,null,n.title),c.a.createElement(kn,null,en(n.date_start)," - ",en(n.date_end))),c.a.createElement(hn,{onClick:function(){return s(n.id)}}),c.a.createElement(jn,{onClick:function(){return u(n.id,"going")}}),c.a.createElement(wn,{onClick:function(){return i(n.id)}},"Votar"))}))),((null===r||void 0===r?void 0:r.soon.length)||0)>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(pn,null,"Vota\xe7\xf5es Futuras"),null===r||void 0===r?void 0:r.soon.map((function(n,t){return c.a.createElement(En,{strip:N(t)},c.a.createElement(xn,{style:{marginRight:"auto"}},c.a.createElement(On,null,n.title),c.a.createElement(kn,null,en(n.date_start)," - ",en(n.date_end))),c.a.createElement(hn,{onClick:function(){return s(n.id)}}),c.a.createElement(jn,{onClick:function(){return u(n.id,"soon")}}),c.a.createElement(wn,{onClick:function(){return i(n.id)}},"Votar"))}))),((null===r||void 0===r?void 0:r.finished.length)||0)>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(pn,null,"Vota\xe7\xf5es Finalizadas"),null===r||void 0===r?void 0:r.finished.map((function(n,t){return c.a.createElement(En,{strip:N(t)},c.a.createElement(xn,{style:{marginRight:"auto"}},c.a.createElement(On,null,n.title),c.a.createElement(kn,null,en(n.date_start)," - ",en(n.date_end))),c.a.createElement(hn,{onClick:function(){return s(n.id)}}),c.a.createElement(jn,{onClick:function(){return u(n.id,"finished")}}),c.a.createElement(wn,{onClick:function(){return i(n.id)}},"Votar"))}))))},Cn=e(32),Bn=e(53),In=e(49),Sn=e.n(In);function Yn(){var n=Object(v.a)([""]);return Yn=function(){return n},n}var Qn=Object(g.a)(P).attrs({withImage:Sn.a})(Yn());function Un(){var n=Object(v.a)(["\n  outline: none;\n  border: none;\n  background-color: ",";\n  padding: 0.7rem 0.6rem;\n  border-radius: 4px;\n  margin: ","px 0px;\n\n  &::placeholder {\n    color: ",";\n    opacity: 1;\n  }\n"]);return Un=function(){return n},n}var yn=g.a.input(Un(),b.GRAY_2,(function(n){var t=n.withMargin;return t||0}),b.GRAY_3),Dn=function(n){var t=n.state,e=n.onEnter,r=Object(U.a)(n,["state","onEnter"]),a=t[0],o=t[1];return c.a.createElement(yn,Object.assign({value:a,onChange:function(n){o(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&e&&e()}},r))},Gn=e(50),Fn=e.n(Gn),Vn=e(51),Mn=e.n(Vn);function Jn(){var n=Object(v.a)(["\n  margin-right: auto;\n  border-bottom-width: 2px;\n  border-bottom-style: solid;\n  border-bottom-color: ",";\n  background-color: transparent;\n  border-radius: 0px;\n"]);return Jn=function(){return n},n}function Pn(){var n=Object(v.a)(["\n  background-color: ",";\n  margin: 1.2rem 0;\n  width: 100%;\n  align-items: center;\n"]);return Pn=function(){return n},n}function Nn(){var n=Object(v.a)(["\n  margin: 0 1.2rem;\n"]);return Nn=function(){return n},n}function Xn(){var n=Object(v.a)(["\n  padding: 0.9rem;\n"]);return Xn=function(){return n},n}function Kn(){var n=Object(v.a)(["\n  flex: 1;\n  margin-right: 1rem;\n"]);return Kn=function(){return n},n}function zn(){var n=Object(v.a)([""]);return zn=function(){return n},n}function Tn(){var n=Object(v.a)([""]);return Tn=function(){return n},n}function Hn(){var n=Object(v.a)(["\n  margin-right: auto;\n  font-size: 0.9rem;\n"]);return Hn=function(){return n},n}function Ln(){var n=Object(v.a)(["\n  flex-direction: row;\n  align-items: center;\n\n  width: 100%;\n  padding: 0.3rem;\n  padding-left: 1rem;\n\n  background-color: ",";\n"]);return Ln=function(){return n},n}function qn(){var n=Object(v.a)(["\n  color: ",";\n  font-size: 0.8rem;\n"]);return qn=function(){return n},n}function Wn(){var n=Object(v.a)(["\n  margin: 0.5rem 0;\n"]);return Wn=function(){return n},n}function Zn(){var n=Object(v.a)(["\n  font-weight: 400;\n  font-size: 1.1rem;\n  margin-bottom: 0.3rem;\n"]);return Zn=function(){return n},n}function _n(){var n=Object(v.a)(["\n  margin-left: auto;\n  padding: 0.65rem 3rem;\n"]);return _n=function(){return n},n}function $n(){var n=Object(v.a)(["\n  flex-direction: column;\n"]);return $n=function(){return n},n}function nt(){var n=Object(v.a)(["\n  flex-direction: row;\n  align-items: ",";\n"]);return nt=function(){return n},n}function tt(){var n=Object(v.a)([""]);return tt=function(){return n},n}function et(){var n=Object(v.a)(["\n  font-size: 1.3rem;\n"]);return et=function(){return n},n}var rt=g.a.h1(et()),at=g.a.label(tt()),ct=g.a.div(nt(),(function(n){return n.center?"center":"flex-start"})),ot=g.a.div($n()),it=Object(g.a)(M)(_n()),ut=g.a.span(Zn()),lt=Object(g.a)(ct)(Wn()),st=g.a.span(qn(),b.GRAY_3),At=g.a.div(Ln(),(function(n){return n.strip?b.GRAY_1:"transparent"})),ft=g.a.span(Hn()),dt=Object(g.a)(P).attrs({withImage:K.a})(Tn()),mt=Object(g.a)(P).attrs({})(zn()),pt=Object(g.a)(Dn)(Kn()),vt=Object(g.a)(M).attrs({withImage:Fn.a,imageSize:9})(Xn()),gt=g.a.span(Nn()),bt=g.a.div(Pn(),b.GRAY_1),Et=Object(g.a)(Dn)(Jn(),b.GRAY_3),Ot=function(){var n=Object(l.f)(),t=Object(l.g)().poll,e=Object(a.useRef)([]),r=Object(a.useState)(""),o=Object(p.a)(r,2),i=o[0],u=o[1],s=Object(a.useState)([]),f=Object(p.a)(s,2),v=f[0],g=f[1],b=Object(a.useState)(new Date),E=Object(p.a)(b,2),O=E[0],h=E[1],j=Object(a.useState)(new Date),w=Object(p.a)(j,2),x=w[0],k=w[1],R=Object(a.useState)(!1),C=Object(p.a)(R,2),B=C[0],I=C[1],S=Object(a.useState)(),Y=Object(p.a)(S,2),U=Y[0],y=Y[1],D=Object(a.useState)(),G=Object(p.a)(D,2),F=G[0],V=G[1],J=Object(a.useState)(""),P=Object(p.a)(J,2),X=P[0],K=P[1],z=Object(a.useState)(""),H=Object(p.a)(z,2),L=H[0],q=H[1];Object(a.useEffect)((function(){t&&nn.get(parseInt(t)).then((function(n){u(n.title),h(tn(n.date_start)),k(tn(n.date_end)),g(n.options),e.current=n.options})).catch((function(n){return alert("Erro ao pegar dados da vota\xe7\xe3o")}))}),[]);var W=function(){var t=Object(m.a)(A.a.mark((function t(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(cn()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,nn.create({title:i,options:v,dateStart:O,dateEnd:x});case 5:e=t.sent,n.push("/vote/".concat(e.id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert("Erro ao adicionar");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),Z=function(){var r=Object(m.a)(A.a.mark((function r(){return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(cn()){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,nn.edit(parseInt(t),{title:i,options:_(e.current,v),dateStart:O,dateEnd:x});case 5:n.push("/vote/".concat(t)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),alert("Erro ao editar");case 11:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(){return r.apply(this,arguments)}}(),_=function(n,t){return{remove:n.filter((function(n){return-1===t.findIndex((function(t){return"string"!==typeof t&&t.id===n.id}))})).map((function(n){return n.id})),edit:t.filter((function(t){return"string"!==typeof t&&-1!==n.findIndex((function(n){return n.id===t.id&&n.value!==t.value}))})).map((function(n){return{id:n.id,value:n.value}})),add:t.filter((function(n){return"string"===typeof n}))}},$=function(){L.trim()&&(g((function(n){return[].concat(Object(Cn.a)(n),[L])})),q(""))},rn=function(n,t){V(void 0),g((function(e){return e.map((function(e,r){return r===n?"string"===typeof e?t:Object(d.a)({},e,{value:t}):e}))}))},an=function(n){I(!0),y(n)},cn=function(){return i.trim()?v.length<3?(alert("Insira pelo menos 3 Op\xe7\xf5es"),!1):!(x.getTime()<O.getTime())||(alert("A data final deve ser posterior \xe0 data inicial"),!1):(alert("O t\xedtulo n\xe3o pode ser v\xe1zio"),!1)},on=function(n){return void 0!==F&&F===n};return c.a.createElement(Q,null,c.a.createElement(ct,null,c.a.createElement(ot,null,c.a.createElement(Qn,{onClick:function(){n.goBack()}}),c.a.createElement(rt,null,t?"Editar Vota\xe7\xe3o":"Criar Vota\xe7\xe3o")),c.a.createElement(it,{onClick:t?Z:W},t?"Editar":"Criar")),c.a.createElement(at,null,"T\xedtulo"),c.a.createElement(Dn,{state:[i,u],withMargin:5}),c.a.createElement(at,null,"Data"),c.a.createElement(ct,{center:!0,style:{marginTop:5}},c.a.createElement(M,{onClick:function(){return an("start")}},en(O)),c.a.createElement(gt,null,"At\xe9"),c.a.createElement(M,{onClick:function(){return an("end")}},en(x))),B&&c.a.createElement(bt,null,c.a.createElement(Bn.a,{onChange:function(n){"start"===U?h(n):"end"===U&&k(n),I(!1)},value:"start"===U?O:x,minDate:"end"===U?O:void 0})),c.a.createElement(lt,null,c.a.createElement(ot,null,c.a.createElement(ut,null,"Op\xe7\xf5es"),c.a.createElement(st,null,"M\xednimo: 3"))),c.a.createElement(ct,{style:{marginBottom:6}},c.a.createElement(pt,{placeholder:"Item",id:"addOptionInput",state:[L,q],onEnter:$}),c.a.createElement(vt,{onClick:$})),v.map((function(n,t){return c.a.createElement(At,{strip:N(t),key:t},on(t)?c.a.createElement(Et,{state:[X,K]}):c.a.createElement(ft,null,"string"===typeof n?n:n.value),c.a.createElement(mt,{onClick:function(){return function(n,t){if(on(t))return rn(t,X);K("string"===typeof n?n:n.value),V(t)}(n,t)},withImage:on(t)?Mn.a:T.a}),c.a.createElement(dt,{onClick:function(){return n=t,void g((function(t){var e=Object(Cn.a)(t);return e.splice(n,1),e}));var n}}))})))},ht=e(52),jt=e.n(ht);function wt(){var n=Object(v.a)(["\n  margin-top: -3px;\n  object-fit: contain;\n  width: 50%;\n  height: 50%;\n"]);return wt=function(){return n},n}function xt(){var n=Object(v.a)(["\n  width: 0;\n  height: 0;\n"]);return xt=function(){return n},n}function kt(){var n=Object(v.a)(["\n  width: 25px;\n  height: 25px;\n  border-radius: 4px;\n\n  background-color: ",";\n\n  justify-content: center;\n  align-items: center;\n\n  cursor: ",";\n"]);return kt=function(){return n},n}var Rt=g.a.div(kt(),(function(n){var t=n.checked;return n.disabled?b.GRAY_4:t?b.PRIMARY:b.GRAY_2}),(function(n){return n.disabled?"auto":"pointer"})),Ct=g.a.input(xt()),Bt=g.a.img.attrs({src:jt.a})(wt()),It=function(n){var t=n.checked,e=n.value,r=n.disabled,a=Object(U.a)(n,["checked","value","disabled"]);return c.a.createElement(Rt,Object.assign({},a,{onClick:a.onClick&&!r?function(){return a.onClick(e)}:function(){},checked:t,disabled:r}),c.a.createElement(Ct,{type:"radio"}),t&&c.a.createElement(Bt,null))},St=function(){function n(){Object(H.a)(this,n)}return Object(L.a)(n,null,[{key:"vote",value:function(){var n=Object(m.a)(A.a.mark((function n(t){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.post("".concat(Z,"/v1/poll-votes/"),{option_id:t});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),_(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(t){return n.apply(this,arguments)}}()}]),n}();function Yt(){var n=Object(v.a)(["\n  font-size: 0.9rem;\n  margin-top: 1rem;\n  margin-bottom: -0.3rem;\n"]);return Yt=function(){return n},n}function Qt(){var n=Object(v.a)(["\n  margin-right: 0.4rem;\n"]);return Qt=function(){return n},n}function Ut(){var n=Object(v.a)(["\n  margin-top: 1.1rem;\n  margin-left: auto;\n  padding: 0.6rem 3rem;\n"]);return Ut=function(){return n},n}function yt(){var n=Object(v.a)(["\n  font-size: 0.9rem;\n  margin-right: auto;\n"]);return yt=function(){return n},n}function Dt(){var n=Object(v.a)(["\n  flex-direction: row;\n  align-items: center;\n\n  width: 100%;\n  padding: 0.3rem;\n"]);return Dt=function(){return n},n}function Gt(){var n=Object(v.a)(["\n  margin-top: -0.4rem;\n  margin-bottom: 1rem;\n  color: ",";\n"]);return Gt=function(){return n},n}function Ft(){var n=Object(v.a)(["\n  font-size: 1.3rem;\n"]);return Ft=function(){return n},n}var Vt=g.a.h1(Ft()),Mt=g.a.span(Gt(),b.GRAY_3),Jt=g.a.div(Dt()),Pt=g.a.label(yt()),Nt=Object(g.a)(M)(Ut()),Xt=Object(g.a)(It)(Qt()),Kt=g.a.span(Yt());var zt=function(){var n,t=Object(l.f)(),e=Object(l.g)().poll,r=Object(a.useRef)(null),o=Object(a.useState)(),i=Object(p.a)(o,2),u=i[0],s=i[1],f=Object(a.useState)(),d=Object(p.a)(f,2),v=d[0],g=d[1],b=Object(a.useState)(!1),E=Object(p.a)(b,2),O=E[0],h=E[1];Object(a.useEffect)((function(){return nn.get(e).then((function(n){((new Date).getTime()>w(n.date_end)||(new Date).getTime()<j(n.date_start))&&h(!0),s(n)})).catch((function(n){alert("Erro ao carregar informa\xe7\xf5es da vota\xe7\xe3o")})),r.current=new WebSocket("".concat("ws://localhost:8080","/?pollId=").concat(e)),r.current.addEventListener("message",(function(n){var t=JSON.parse(n.data);s(t)})),function(){r.current&&r.current.close()}}),[]);var j=function(n){var t=tn(n);return new Date(t).getTime()},w=function(n){var t=tn(n),e="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," 23:59:59");return new Date(e).getTime()},x=function(){var n=Object(m.a)(A.a.mark((function n(){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v||alert("Selecione uma op\xe7\xe3o primeiro"),n.prev=1,n.next=4,St.vote(v);case 4:h(!0),g(void 0),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),alert("Erro ao votar");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}(),k=function(n){g(n)};return c.a.createElement(Q,null,c.a.createElement(Qn,{onClick:function(){t.push("/")}}),c.a.createElement(Kt,null,en((null===u||void 0===u?void 0:u.date_start)||Date())," -"," ",en((null===u||void 0===u?void 0:u.date_end)||Date())),c.a.createElement(Vt,null,null===u||void 0===u?void 0:u.title),c.a.createElement(Mt,null,(null===u||void 0===u?void 0:u.votes)||0," votos"),null===u||void 0===u||null===(n=u.options)||void 0===n?void 0:n.map((function(n){return c.a.createElement(Jt,null,c.a.createElement(Xt,{checked:v===n.id,value:n.id,id:String(n.id),disabled:O,onClick:k}),c.a.createElement(Pt,{htmlFor:String(n.id)},n.value," (",n.votes," Votos)"))})),v&&c.a.createElement(Nt,{onClick:x},"Votar"))};function Tt(){var n=Object(v.a)([""]);return Tt=function(){return n},n}function Ht(){var n=Object(v.a)(["\n  font-size: 1.1rem;\n  font-weight: 500;\n  margin-bottom: 1rem;\n"]);return Ht=function(){return n},n}function Lt(){var n=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n"]);return Lt=function(){return n},n}var qt=g.a.div(Lt()),Wt=g.a.span(Ht()),Zt=g.a.span(Tt()),_t=function(n){return c.a.createElement(qt,null,c.a.createElement(Wt,null,"404"),c.a.createElement(Zt,null,"N\xe3o encontramos essa p\xe1gina"))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",exact:!0,component:Rn}),c.a.createElement(l.a,{path:["/create","/edit/:poll"],component:Ot}),c.a.createElement(l.a,{path:"/vote/:poll",component:zt}),c.a.createElement(l.a,{component:_t})))),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a554660c.chunk.js.map